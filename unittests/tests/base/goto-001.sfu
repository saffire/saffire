title: goto control tests
author: Joshua Thijssen <joshua@saffire-lang.org>

**********
import io;
    goto label2;
    io.print("noLabel\n");
label1:
    io.print("Label\n");
    goto label3;
label2:
    io.print("Label2\n");
    goto label1;
label3:
====
Label2
Label
@@@@
1:
    goto 1;
====
@@@@
// double labels
foo:
foo:
    goto foo;
====
Error: Duplicate label 'foo' found
@@@@
// No label specified
    goto label;
====
@@@@
// incorrect label
"blaat":
====
Error: Unknown token: '"'
@@@@
// incorrect label
/regex/:
====
Error in line 3: syntax error, unexpected '/', expecting end of file
@@@@
// Correct scope
i = 0;
while(true) {
label:
    i = i + 1;
    if (i < 10) goto label;
    break;
}
====
@@@@
// Allowed to jump out of a loop
goto label2;
label:
    goto label3;
label2:
while (true) {
    goto label;
}
label3:
====
@@@@
// Allowed to jump out of a loop
while(true) {
    goto label;
}
label:
====
@@@@
// Not allowed to jump into a loop
/*
goto label;
while(true) {
    label:
}
*/
====
Label not found
@@@@
// Not allowed to jump into a loop
/*
while(true) {
    label:
}
goto label;
*/
====
Label not found
